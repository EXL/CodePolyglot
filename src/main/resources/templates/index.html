<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org" th:lang="${lang}" lang="ru">
<head>
	<meta charset="UTF-8">
	<title>Code Polyglot</title>
	<link th:href="@{/css/__${skin}__/code.css}" rel="stylesheet" type="text/css"/>
	<link th:if="${highlight == T(ru.exlmoto.code.highlight.enumeration.Mode).HighlightJs}" th:href="@{/css/__${skin}__/hjs.css}" rel="stylesheet" type="text/css"/>
	<link th:if="${highlight == T(ru.exlmoto.code.highlight.enumeration.Mode).HighlightRouge}" th:href="@{/css/__${skin}__/rouge.css}" rel="stylesheet" type="text/css"/>
	<link th:if="${highlight == T(ru.exlmoto.code.highlight.enumeration.Mode).HighlightPygments}" th:href="@{/css/__${skin}__/pygments.css}" rel="stylesheet" type="text/css"/>
	<link th:if="${highlight == T(ru.exlmoto.code.highlight.enumeration.Mode).HighlightPygmentsJython}" th:href="@{/css/__${skin}__/pygments.css}" rel="stylesheet" type="text/css"/>
	<script defer th:src="@{/js/code.js}" type="text/javascript"></script>
</head>
<body>
	<div class="page">
		<div class="sidebar">
			<a href="/"><h2 class="head-site block">Code Polyglot</h2></a>
			<div class="recent block">
				<h4 class="head-site" th:text="#{code.recent}">Recent Snippets</h4>
				<div th:if="${!snippets.isEmpty()}" class="last">
					<div th:each="snippet : ${snippets}">
						ü°í <a th:href="${'/' + snippet.getSecond()}" th:text="${snippet.getFirst()}"></a> <a class="right" sec:authorize="isAuthenticated()" th:href="${'/delete/' + snippet.getSecond()}">‚ùå</a>
					</div>
				</div>
			</div>
		</div>
		<form id="code-form" th:action="@{/edit}" th:object="${form}" method="post">
			<div th:if="${code}" class="content block">
				<h2 class="head-code" th:if="*{title}" th:with="head=*{title}">
					<span th:text="${head} + ' |'"></span> <span th:if="*{date}" th:text="*{date}"></span>
				</h2>
			</div>
			<div th:if="${code}" class="content block">
				<div th:utext="${code}" th:class="${highlight == T(ru.exlmoto.code.highlight.enumeration.Mode).HighlightJs} ? 'hljs' : 'highlight'" id="code">Code Container</div>
			</div>
			<div class="content block grid">
				<div class="code-options">
					<div class="md first">```</div>
					<label>
						<input id="options" type="text" th:field="*{options}" placeholder="java"/>
					</label>
					<input class="button" type="submit" value="Render!"/>
				</div>
				<div class="code-title">
					<label>
						<input id="title" type="text" th:field="*{title}" placeholder="(Optional Title)" size="35"/>
					</label>
				</div>
				<div class="form-block">
					<label>
						<textarea id="code-area" maxlength="262144" th:field="*{code}" th:autofocus="${code} ? 'false' : 'true'" placeholder="Please paste code here and click Render! button...">Source</textarea>
					</label>
				</div>
				<div class="code-highlight">
					<div class="table">
						<div class="table-row">
							<div class="table-cell"></div>
							<div class="table-cell">Language</div>
							<div class="table-cell">Library</div>
							<div class="table-cell">VM</div>
							<div class="table-cell">Speed</div>
						</div>
						<div th:each="mode : ${T(ru.exlmoto.code.highlight.enumeration.Mode).values()}" class="table-row">
							<div class="table-cell">
								<label class="radio-container">
									<input type="radio" th:id="${mode}" th:value="${mode}" th:field="*{highlight}" name="syntax"/>
									<span class="radio-mark"></span>
								</label>
							</div>
							<div class="table-cell" th:text="${T(ru.exlmoto.code.highlight.enumeration.Mode).getLang(mode) + ' ' + versions.get(mode).getFirst()}"></div>
							<div class="table-cell" th:text="${T(ru.exlmoto.code.highlight.enumeration.Mode).getName(mode) + ' ' + versions.get(mode).getSecond()}"></div>
							<div class="table-cell" th:text="${T(ru.exlmoto.code.highlight.enumeration.Mode).getVm(mode)}"></div>
							<div class="table-cell" th:text="#{__${T(ru.exlmoto.code.highlight.enumeration.Mode).getSpeed(mode)}__}"></div>
						</div>
					</div>
					<div class="form-render" th:if="*{renderTime}">Server-side Syntax Highlighting Render Time: <span th:utext="*{renderTime}"></span>ms.</div>
				</div>
				<div class="md">```</div>
			</div>
		</form>
		<div class="footer head-site block">
			<span class="left">Language: <a th:href="${'/opts/?lang=ru'}">–†—É—Å—Å–∫–∏–π</a> | <a th:href="${'/opts/?lang=en'}">English</a></span>
			<span class="center">¬© EXL, 2020 | <a href="https://github.com/EXL/CodePolyglot">CodePolyglot</a> | Powered by GraalVM v<span th:text="${version}"></span></span>
			<span class="right">Skin: <a th:href="${'/opts/?skin=techno'}">Techno</a> | <a th:href="${'/opts/?skin=pastorg'}">Pastorg</a></span>
		</div>
	</div>
</body>
</html>
