<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:lang="${lang}" lang="ru">
<head>
	<meta charset="UTF-8">
	<title>Code Polyglot</title>
	<link th:href="@{/css/__${skin}__/code.css}" rel="stylesheet" type="text/css"/>
	<link th:if="${highlight == T(ru.exlmoto.code.highlight.enumeration.Mode).HighlightJs}" th:href="@{/css/__${skin}__/hjs.css}" rel="stylesheet" type="text/css"/>
	<link th:if="${highlight == T(ru.exlmoto.code.highlight.enumeration.Mode).HighlightRouge}" th:href="@{/css/__${skin}__/rouge.css}" rel="stylesheet" type="text/css"/>
	<link th:if="${highlight == T(ru.exlmoto.code.highlight.enumeration.Mode).HighlightPygments}" th:href="@{/css/__${skin}__/pygments.css}" rel="stylesheet" type="text/css"/>
	<link th:if="${highlight == T(ru.exlmoto.code.highlight.enumeration.Mode).HighlightPygmentsJython}" th:href="@{/css/__${skin}__/pygments.css}" rel="stylesheet" type="text/css"/>
	<script defer th:src="@{/js/code.js}" type="text/javascript"></script>
</head>
<body>
	<div class="page">
		<form id="code-form" th:action="@{/edit}" th:object="${form}" method="post">
			<div class="sidebar">
				<div class="header">
					<a href="/"><h3 class="head block">Code Polyglot</h3></a>
				</div>
				<div class="recent block">
					<h4 class="head" th:text="#{code.recent}">Recent Snippets</h4>
					<div th:if="${!snippets.isEmpty()}" class="last">
						<div th:each="snippet : ${snippets}">
							- <a th:href="${'/' + snippet.getSecond()}" th:text="${snippet.getFirst()}"></a>
						</div>
					</div>
				</div>
			</div>
			<div class="content">
				<h2 th:with="head=*{title}">
					<span th:if="${head}" th:text="${head} + ' |'"></span> <span th:if="*{date}" th:text="*{date}"></span>
				</h2>
				<div class="code-options">
					<label>
						<span class="md">```</span>
						<input id="options" type="text" th:field="*{options}" placeholder="java" size="35"/>
					</label>
				</div>
				<div th:if="${code}" th:utext="${code}" th:class="${highlight == T(ru.exlmoto.code.highlight.enumeration.Mode).HighlightJs} ? 'hljs' : 'highlight'" id="code">Code Container</div>
				<div class="form-block">
					<label>
						<textarea id="code-area" maxlength="262144" rows="20" cols="120" th:field="*{code}">Source</textarea>
					</label>
					<div class="code-highlight">
						<div class="code-title">
							<label>
								<input id="title" type="text" th:field="*{title}" placeholder="(Optional Title)" size="35"/>
							</label>
						</div>
						<span>Server-side syntax code highlighting:</span>
						<table>
							<tr>
								<td><span></span></td>
								<td><span>Language version</span></td>
								<td><span>Library version</span></td>
								<td><span>VM</span></td>
								<td><span>Speed</span></td>
							</tr>
							<tr th:each="mode : ${T(ru.exlmoto.code.highlight.enumeration.Mode).values()}">
								<td>
									<label>
										<input type="radio" th:id="${mode}" th:value="${mode}" th:field="*{highlight}" name="syntax"/>
									</label>
								</td>
								<td>
									<span th:text="${T(ru.exlmoto.code.highlight.enumeration.Mode).getLang(mode) + ' ' + versions.get(mode).getFirst()}"></span>
								</td>
								<td>
									<span th:text="${T(ru.exlmoto.code.highlight.enumeration.Mode).getName(mode) + ' ' + versions.get(mode).getSecond()}"></span>
								</td>
								<td>
									<span th:text="${T(ru.exlmoto.code.highlight.enumeration.Mode).getVm(mode)}"></span>
								</td>
								<td>
									<span th:text="#{__${T(ru.exlmoto.code.highlight.enumeration.Mode).getSpeed(mode)}__}"></span>
								</td>
							</tr>
						</table>
						<p><input class="button" type="submit" value="Render"/></p>
						<div th:if="*{renderTime}" class="form-render">
							Render: <span th:utext="*{renderTime}"></span>ms.
						</div>
					</div>
					<div class="md">```</div>
				</div>
			</div>
		</form>
		<div class="footer head block">
			<a th:href="${'/opts/?lang=ru'}">Русский</a>
			<a th:href="${'/opts/?lang=en'}">English</a>
			<a th:href="${'/opts/?skin=techno'}">Techno</a>
			<a th:href="${'/opts/?skin=pastorg'}">Pastorg</a>
			<span th:text="${version}"></span>
		</div>
	</div>
</body>
</html>
